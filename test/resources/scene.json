{
	"shaders": [
		{
			"source": "/test/resources/triangle.vert.wgsl"
		},
		{
			"source": "/test/resources/triangle.frag.wgsl",
			"targets": [
				{
					"format": "bgra8unorm"
				}
			]
		},
		{
			"source": "/test/resources/cube.vert.wgsl",
			"buffers": [
				{
					"arrayStride": 40,
					"attributes": [
						{
							"shaderLocation": 0,
							"format": "float32x4",
							"offset": 0
						},
						{
							"shaderLocation": 1,
							"format": "float32x2",
							"offset": 32
						}
					]
				}
			]			
		},
		{
			"source": "/test/resources/cube.frag.wgsl",
			"targets": [
				{
					"format": "bgra8unorm"
				}
			]
		}		
	],
    "pipelines": [
        {
            "vertex": 0,
			"fragment": 1,
            "primitive": {
				"topology": "triangle-list"
			}			
        },
		{
			"vertex": 2,
			"fragment": 3,
			"depthStencilState": {
				"depthWriteEnabled": true,
				"depthCompare": "less",
				"format": "depth24plus"
			},
		    "primitive": {
				"topology": "triangle-list",
				"cullMode": "back"
			}
		}
    ],
    "layouts": [
        {
            "bindings": [
                {
                    "binding": 0,
                    "visibility": "VERTEX",
                    "type": "uniform-buffer"
                },
                {
                    "binding": 1,
                    "visibility": "FRAGMENT",
                    "type": "sampler"
                },
                {
                    "binding": 2,
                    "visibility": "FRAGMENT",
                    "type": "sampled-texture"
                }
            ]
        }
    ],
    "textures": [
        {
            "name": "default",
            "image": "/test/resources/image.png"
        }
    ],
    "passes": [
        {
            "depthStencilAttachment": {
                "depthLoadValue": 1,
                "depthStoreOp": "store",
                "stencilLoadValue": "load",
                "stencilStoreOp": "store"
            },
            "colorAttachments": [
                {
                    "loadValue": {
                        "r": 0,
                        "g": 0,
                        "b": 0,
                        "a": 1
                    },
                    "storeOp": "store"
                }
            ]
        }
    ],
    "buffers": [
		{
			"name": "cube",
			"vertices": [
			  1, -1, 1, 1,   1, 0, 1, 1,  1, 1,
			  -1, -1, 1, 1,  0, 0, 1, 1,  0, 1,
			  -1, -1, -1, 1, 0, 0, 0, 1,  0, 0,
			  1, -1, -1, 1,  1, 0, 0, 1,  1, 0,
			  1, -1, 1, 1,   1, 0, 1, 1,  1, 1,
			  -1, -1, -1, 1, 0, 0, 0, 1,  0, 0,

			  1, 1, 1, 1,    1, 1, 1, 1,  1, 1,
			  1, -1, 1, 1,   1, 0, 1, 1,  0, 1,
			  1, -1, -1, 1,  1, 0, 0, 1,  0, 0,
			  1, 1, -1, 1,   1, 1, 0, 1,  1, 0,
			  1, 1, 1, 1,    1, 1, 1, 1,  1, 1,
			  1, -1, -1, 1,  1, 0, 0, 1,  0, 0,

			  -1, 1, 1, 1,   0, 1, 1, 1,  1, 1,
			  1, 1, 1, 1,    1, 1, 1, 1,  0, 1,
			  1, 1, -1, 1,   1, 1, 0, 1,  0, 0,
			  -1, 1, -1, 1,  0, 1, 0, 1,  1, 0,
			  -1, 1, 1, 1,   0, 1, 1, 1,  1, 1,
			  1, 1, -1, 1,   1, 1, 0, 1,  0, 0,

			  -1, -1, 1, 1,  0, 0, 1, 1,  1, 1,
			  -1, 1, 1, 1,   0, 1, 1, 1,  0, 1,
			  -1, 1, -1, 1,  0, 1, 0, 1,  0, 0,
			  -1, -1, -1, 1, 0, 0, 0, 1,  1, 0,
			  -1, -1, 1, 1,  0, 0, 1, 1,  1, 1,
			  -1, 1, -1, 1,  0, 1, 0, 1,  0, 0,

			  1, 1, 1, 1,    1, 1, 1, 1,  1, 1,
			  -1, 1, 1, 1,   0, 1, 1, 1,  0, 1,
			  -1, -1, 1, 1,  0, 0, 1, 1,  0, 0,
			  -1, -1, 1, 1,  0, 0, 1, 1,  0, 0,
			  1, -1, 1, 1,   1, 0, 1, 1,  1, 0,
			  1, 1, 1, 1,    1, 1, 1, 1,  1, 1,

			  1, -1, -1, 1,  1, 0, 0, 1,  1, 1,
			  -1, -1, -1, 1, 0, 0, 0, 1,  0, 1,
			  -1, 1, -1, 1,  0, 1, 0, 1,  0, 0,
			  1, 1, -1, 1,   1, 1, 0, 1,  1, 0,
			  1, -1, -1, 1,  1, 0, 0, 1,  1, 1,
			  -1, 1, -1, 1,  0, 1, 0, 1,  0, 0
			],
			"indices": [
			]
		}	
	]
}